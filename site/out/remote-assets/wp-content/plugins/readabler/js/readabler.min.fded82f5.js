/*! License information can be found in readabler.js.LICENSE.txt */
(()=>{"use strict";const e=function(){let e=null,t=!1;function a(e,t){const n=document.createElement("div");return n.classList.add("mdp-readabler-tts-button"),n.innerHTML=e,n.onclick=t,"mdp-readabler-tts-preloader"===n.id?n.style.transition="none":(n.onmouseover=function(){this.style.transform="scale(1.2)"},n.onmouseout=function(){this.style.transform="scale(1)"}),n}function o(){e&&(e.onended=null,e.stop(0))}return function(){const i={gspeak:!0,disable:!1},r={icon:'<svg class="selection__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24"><path d="M19.3,10.7L9.1,4.2C8.8,4,8.4,4,8.1,4C7,4,7,4.9,7,5.1v13.4c0,0.2,0,1.1,1.1,1.1c0.3,0,0.7,0,1-0.2l10.2-6.5c0.8-0.5,0.7-1.1,0.7-1.1S20.1,11.2,19.3,10.7z"/></svg>',preloader_icon:'<svg class="selection__icon" id="mdp-readabler-tts-preloader" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><rect x="3" y="7" rx="2" ry="2" width="4" height="10"><animate attributeName="y" calcMode="spline" values="7;9;7" keyTimes="0;0.5;1" dur=".6" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/><animate attributeName="height" calcMode="spline" values="10;6;10" keyTimes="0;0.5;1" dur=".6" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/></rect><rect x="8" y="2" rx="2" ry="2" width="4" height="20"><animate attributeName="y" calcMode="spline" values="2;4;2" keyTimes="0;0.5;1" dur=".5" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/><animate attributeName="height" calcMode="spline" values="20;16;20" keyTimes="0;0.5;1" dur=".5" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/></rect><rect x="13" y="4" rx="2" ry="2" width="4" height="16"><animate attributeName="y" calcMode="spline" values="4;7;4" keyTimes="0;0.5;1" dur=".7" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/><animate attributeName="height" calcMode="spline" values="16;10;16" keyTimes="0;0.5;1" dur=".7" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/></rect><rect x="18" y="8" rx="2" ry="2" width="4" height="8"><animate attributeName="y" calcMode="spline" values="8;10;8" keyTimes="0;0.5;1" dur=".8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/><animate attributeName="height" calcMode="spline" values="8;4;8" keyTimes="0;0.5;1" dur=".8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1" begin="0" repeatCount="indefinite"/></rect></svg>',stop_icon:'<svg class="selection__icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M18.001 4.2H6A1.8 1.8 0 0 0 4.2 5.999V18A1.8 1.8 0 0 0 5.999 19.8H18a1.8 1.8 0 0 0 1.799-1.799V6c0-.992-.807-1.799-1.799-1.799z"/></svg>'};let d="",l="",s="",c={},u=52,p=0,m=0;function b(){return new a(r.icon,(function(){if(document.querySelector(".mdp-readabler-tts.stop"))return o(),void g();!function(){const e=document.querySelector(".mdp-readabler-tts .selection__icon"),t=document.createElement("div");t.innerHTML=r.preloader_icon,e.parentNode.replaceChild(t,e);const n=document.querySelector(".mdp-readabler-tts");n.classList.remove("stop"),n.classList.add("loading")}();let t=new XMLHttpRequest,a=window.mdpReadablerOptions;t.open("POST",a.textToSpeechAjaxUrl,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){if(this.status>=200&&this.status<400){if(!n.AudioContext)return void console.warn("Error with creating AudioContext.");n.mdp_readabler_context.decodeAudioData(this.response,(function(t){const a=n.mdp_readabler_context.createBufferSource();a.buffer=t,o(),e=a,a.connect(n.mdp_readabler_context.destination),a.onended=g,a.start(0),function(){const e=document.querySelector(".mdp-readabler-tts .selection__icon"),t=document.createElement("div");t.innerHTML=r.stop_icon,e.parentNode.replaceChild(t,e);const n=document.querySelector(".mdp-readabler-tts");n.classList.remove("loading"),n.classList.add("stop")}()}),(function(e){console.warn("Error with decoding audio data"+e.err)}))}else console.error(this.response)},t.onerror=function(){console.error("Connection error.")},t.responseType="arraybuffer",t.send(`action=readablergspeak&nonce=${a.textToSpeechNonce}&text=${encodeURIComponent(s)}&lang=${document.documentElement.lang}`)}))}function g(){document.querySelector(".mdp-readabler-tts.stop")&&document.querySelector(".mdp-readabler-tts").remove()}function h(){const e=d.getRangeAt(0).getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollTop||document.body.scrollTop;m=e.left+(e.width-u*c.length)/2,p=t?e.bottom+n+10:e.top+n-u-10}function y(){if(document.querySelector(".mdp-readabler-tts")){h();let e=document.querySelector(".mdp-readabler-tts");e.style.top=p+"px",e.style.left=m+"px"}}function f(){c=function(){const e=[{feature:"gspeak",call:b()}],t=document.createElement("div");let n=0;return e.forEach((function(e){i[e.feature]&&(t.appendChild(e.call),n++)})),{icons:t,length:n}}(),h();const e=document.createElement("div");e.className="mdp-readabler-tts",e.style="top:"+p+"px;left:"+m+"px;",e.appendChild(c.icons);const n=document.createElement("div");n.classList.add("mdp-readabler-tts-arrow"),t&&n.classList.add("mdp-readabler-tts-arrow-mobile"),n.style="left:"+(u*c.length/2-8)+"px;",i.disable||e.appendChild(n),document.body.appendChild(e)}function v(){function e(){return null!==n.readabler&&!!window.getSelection().toString()}function a(){let e;if(document.selection&&document.selection.createRange)return e=document.selection.createRange(),e.htmlText;if(window.getSelection){const t=window.getSelection();if(t.rangeCount>0){e=t.getRangeAt(0);const n=e.cloneContents(),a=document.createElement("div");return a.appendChild(n),a.innerHTML}return""}return""}function o(){let e;if(t)return window.getSelection?e=window.getSelection():document.getSelection?e=document.getSelection():document.selection&&(e=document.selection.createRange().text),e;if(window.getSelection&&(e=window.getSelection()).modify){if(e=window.getSelection(),!e.isCollapsed){const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const n=t.collapsed;t.detach();const a=e.focusNode,o=e.focusOffset;let i;e.collapse(e.anchorNode,e.anchorOffset),i=n?["backward","forward"]:["forward","backward"],e.modify("move",i[0],"character"),e.modify("move",i[1],"word"),e.extend(a,o),e.modify("extend",i[1],"character"),e.modify("extend",i[0],"word")}}else if((e=document.selection)&&"Control"!==e.type){const t=e.createRange();if(t.text){for(t.expand("word");/\s$/.test(t.text);)t.moveEnd("character",-1);t.select()}}return e}const i=function(){setTimeout((function(){document.querySelector(".mdp-readabler-tts")?e()?(d=o(),l=a(),s=l,y(),(document.querySelector(".mdp-readabler-tts.stop")||document.querySelector(".mdp-readabler-tts.loading"))&&function(){const e=document.querySelector(".mdp-readabler-tts .selection__icon"),t=document.createElement("div");t.innerHTML=r.icon,e.parentNode.replaceChild(t,e);const n=document.querySelector(".mdp-readabler-tts");n.classList.remove("stop"),n.classList.remove("loading")}()):t||document.querySelector(".mdp-readabler-tts.stop")||document.querySelector(".mdp-readabler-tts.loading")||document.querySelector(".mdp-readabler-tts").remove():e()&&(d=o(),l=a(),s=l,f())}),10)};window.addEventListener("mouseup",i,!0),window.addEventListener("touchend",i,!1),window.addEventListener("touchcancel",i,!1),window.addEventListener("selectionchange",i,!1),window.addEventListener("resize",y,!1),window.addEventListener("touchstart",(function e(){t=!0,document.addEventListener("selectionchange",i,!0),window.removeEventListener("touchstart",e,!1)}))}return{config:function(e){return i.gspeak=void 0===e.gspeak?i.gspeak:e.gspeak,i.disable=void 0===e.disable?i.disable:e.disable,this},init:function(){return v(),this}}}}();let t=window.mdpReadablerOptions,n={readabler:null,AudioContext:window.AudioContext||window.webkitAudioContext||!1,mdp_readabler_context:null,init:function(){if(document.querySelectorAll("#mdp-readabler-action-text-to-speech").length<1)return;document.querySelector("#mdp-readabler-action-text-to-speech").addEventListener("ReadablerToggleBoxChanged",n.textToSpeech)},webAudioTouchUnlock:function(){null===n.mdp_readabler_context&&(n.mdp_readabler_context=new AudioContext,n.mdp_readabler_context.resume())},textToSpeech:function(t){t.target.classList.contains("mdp-active")?(n.readabler=new e,n.readabler.init(),document.body.addEventListener("click",n.webAudioTouchUnlock,!1),n.voiceGuide(t.target.title),n.highlightParagraph()):(n.readabler=null,document.body.removeEventListener("click",n.webAudioTouchUnlock,!1))},voiceGuide:function(e){if(e.length<1)return;if(null===e.match(/^([\w\-]+)/g))return;let t=new XMLHttpRequest,a=window.mdpReadablerOptions;t.open("POST",a.textToSpeechAjaxUrl,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){if(this.status>=200&&this.status<400){if(!n.AudioContext)return void console.warn("Error with creating AudioContext.");n.mdp_readabler_context.decodeAudioData(this.response,(function(e){const t=n.mdp_readabler_context.createBufferSource();t.buffer=e,t.connect(n.mdp_readabler_context.destination),t.start(0)}),(e=>console.warn("Error with decoding audio data"+e.err)))}else console.error(this.response)},t.onerror=function(){console.error("Connection error.")},t.responseType="arraybuffer",t.send(`action=readablergspeak&nonce=${a.textToSpeechNonce}&text=${e}`)},highlightParagraph:function(){t.highlightP&&document.querySelectorAll("p").forEach((function(e){e.addEventListener("click",(function(t){let n=document.createRange(),a=window.getSelection();n.selectNodeContents(e),a.removeAllRanges(),a.addRange(n)}))}))}},a=window.mdpReadablerOptions,o={bigBlackCursorStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-big-black-cursor").addEventListener("ReadablerToggleBoxChanged",o.bigBlackCursor)},bigBlackCursor:function(e){e.target.classList.contains("mdp-active")?(o.disableWhite(),document.body.classList.add("mdp-readabler-big-black-cursor"),o.bigBlackCursorStyle.innerHTML=`\n\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-big-black-cursor,\n                body.mdp-readabler-big-black-cursor * {\n                    /*noinspection CssUnknownTarget*/\n                    cursor: url("${a.pluginURL}images/cursor/black-cursor.svg"), default !important\n                }\n                \n                body.mdp-readabler-big-black-cursor * input, \n                body.mdp-readabler-big-black-cursor * textarea, \n                body.mdp-readabler-big-black-cursor * select, \n                body.mdp-readabler-big-black-cursor * a, \n                body.mdp-readabler-big-black-cursor * button, \n                body.mdp-readabler-big-black-cursor * [role=button] {\n                    /*noinspection CssUnknownTarget*/\n                    cursor: url("${a.pluginURL}images/cursor/black-pointer.svg"), default !important;\n                }\n                \n            `,document.head.appendChild(o.bigBlackCursorStyle)):document.body.classList.remove("mdp-readabler-big-black-cursor")},disableWhite:function(){let e=document.getElementById("mdp-readabler-action-big-white-cursor");null!==e&&e.classList.contains("mdp-active")&&e.click()}},i=window.mdpReadablerOptions,r={bigWhiteCursorStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-big-white-cursor").addEventListener("ReadablerToggleBoxChanged",r.bigWhiteCursor)},bigWhiteCursor:function(e){e.target.classList.contains("mdp-active")?(r.disableBlack(),document.body.classList.add("mdp-readabler-big-white-cursor"),r.bigWhiteCursorStyle.innerHTML=`\n\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-big-white-cursor,\n                body.mdp-readabler-big-white-cursor * {\n                    /*noinspection CssUnknownTarget*/\n                    cursor: url("${i.pluginURL}images/cursor/white-cursor.svg"), default !important\n                }\n                \n                body.mdp-readabler-big-white-cursor * input, \n                body.mdp-readabler-big-white-cursor * textarea, \n                body.mdp-readabler-big-white-cursor * select, \n                body.mdp-readabler-big-white-cursor * a, \n                body.mdp-readabler-big-white-cursor * button, \n                body.mdp-readabler-big-white-cursor * [role=button] {\n                    /*noinspection CssUnknownTarget*/\n                    cursor: url("${i.pluginURL}images/cursor/white-pointer.svg"), default !important;\n                }\n                \n            `,document.head.appendChild(r.bigWhiteCursorStyle)):document.body.classList.remove("mdp-readabler-big-white-cursor")},disableBlack:function(){let e=document.getElementById("mdp-readabler-action-big-black-cursor");null!==e&&e.classList.contains("mdp-active")&&e.click()}};const d=function(e){document.querySelectorAll("#mdp-readabler-visually-pleasing-experience-box .mdp-readabler-toggle-box.mdp-active").forEach((t=>{e.id!==t.id&&t.click()}))};let l={darkContrastStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-dark-contrast").addEventListener("ReadablerToggleBoxChanged",l.darkContrast)},darkContrast:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-dark-contrast")):document.body.classList.remove("mdp-readabler-dark-contrast")}},s={lightContrastStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-light-contrast").addEventListener("ReadablerToggleBoxChanged",s.lightContrast)},lightContrast:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-light-contrast")):document.body.classList.remove("mdp-readabler-light-contrast")}};const c={init:function(){document.querySelector("#mdp-readabler-action-high-saturation").addEventListener("ReadablerToggleBoxChanged",c.highSaturation)},highSaturation:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-high-saturation")):document.body.classList.remove("mdp-readabler-high-saturation")}};let u={init:function(){document.querySelector("#mdp-readabler-action-low-saturation").addEventListener("ReadablerToggleBoxChanged",u.lowSaturation)},lowSaturation:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-low-saturation")):document.body.classList.remove("mdp-readabler-low-saturation")}};const p={init:function(){document.querySelector("#mdp-readabler-action-monochrome").addEventListener("ReadablerToggleBoxChanged",p.monochrome)},monochrome:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-monochrome")):document.body.classList.remove("mdp-readabler-monochrome")}};function m(e){if(!window.mdpReadablerOptions.saveConfig||"off"===window.mdpReadablerOptions.saveConfig)return null;try{return localStorage.getItem("mdpReadabler"+e)}catch(e){return null}}function b(e,t){if(!window.mdpReadablerOptions.saveConfig||"off"===window.mdpReadablerOptions.saveConfig)return!1;try{return localStorage.setItem("mdpReadabler"+e,t)}catch(e){return!1}}let g={init:function(){let e=document.querySelectorAll(".mdp-readabler-toggle-box");e.forEach((e=>e.addEventListener("click",(e=>g.toggle(e))))),e.forEach((e=>e.addEventListener("keydown",(e=>g.toggle(e)))))},toggle:function(e){if("keydown"===e.type&&13!==e.keyCode)return;let t=e.target.closest(".mdp-readabler-toggle-box");t.classList.toggle("mdp-active"),b(t.id,t.classList.contains("mdp-active"));const n=new CustomEvent("ReadablerToggleBoxChanged",{});t.dispatchEvent(n)},loadSaved:function(){document.querySelectorAll(".mdp-readabler-toggle-box").forEach((e=>{"true"===m(e.id)&&e.click()}))}};const h={init:function(){document.querySelector("#mdp-readabler-action-high-contrast").addEventListener("ReadablerToggleBoxChanged",h.highContrast)},highContrast:function(e){e.target.classList.contains("mdp-active")?(d(e.target),document.body.classList.add("mdp-readabler-high-contrast")):document.body.classList.remove("mdp-readabler-high-contrast")}},y={init:function(){let e=document.querySelectorAll(".mdp-readabler-input-spinner-box .mdp-readabler-plus");e.forEach((e=>e.addEventListener("click",(e=>y.step(e)))));let t,n=document.querySelectorAll(".mdp-readabler-input-spinner-box .mdp-readabler-minus");n.forEach((e=>e.addEventListener("click",(e=>y.step(e))))),e.forEach((e=>e.addEventListener("mousedown",(e=>{t=setInterval((function(){y.step(e)}),500)})))),e.forEach((e=>e.addEventListener("mouseup",(()=>{clearInterval(t)})))),e.forEach((e=>e.addEventListener("mouseleave",(()=>{clearInterval(t)})))),n.forEach((e=>e.addEventListener("mousedown",(e=>{t=setInterval((function(){y.step(e)}),500)})))),n.forEach((e=>e.addEventListener("mouseup",(()=>{clearInterval(t)})))),n.forEach((e=>e.addEventListener("mouseleave",(()=>{clearInterval(t)}))))},step:function(e){let t=e.target.closest(".mdp-readabler-control").querySelector(".mdp-readabler-value"),n=parseInt(t.dataset.value),a=parseInt(e.target.closest(".mdp-readabler-input-spinner-box").dataset.step);e.target.classList.contains("mdp-readabler-minus")?n-=a:n+=a,t.dataset.value=n.toString(),y.setLabel(t,n),b(e.target.closest(".mdp-readabler-action-box").id,t.dataset.value);const o=new CustomEvent("ReadablerInputSpinnerChanged",{});t.dispatchEvent(o)},setLabel:function(e,t){t=parseInt(t);let n=window.mdpReadablerOptions;if(0===t)e.innerHTML=n.DEFAULT;else{let n=t>0?"+":"";e.innerHTML=n+t+"%"}},loadSaved:function(){document.querySelectorAll(".mdp-readabler-spinner-box").forEach((e=>{let t=m(e.id);if(!t)return;if(t=parseInt(t),0===t)return;let n=e.querySelector(".mdp-readabler-value");n.dataset.value=t.toString(),y.setLabel(n,t);const a=new CustomEvent("ReadablerInputSpinnerChanged",{});n.dispatchEvent(a)}))}},f={init:function(){let e=document.querySelectorAll(".mdp-readabler-palette-box");e.forEach((e=>e.addEventListener("click",(e=>f.selectColor(e))))),e.forEach((e=>e.addEventListener("keydown",(e=>f.selectColor(e)))))},selectColor:function(e){if("keydown"===e.type&&13!==e.keyCode)return;if(!e.target.classList.contains("mdp-readabler-color"))return;let t=e.target.closest(".mdp-readabler-palette-box");if(e.target.classList.contains("mdp-active"))e.target.classList.remove("mdp-active"),f.firePaletteChange(t,null),b(e.target.closest(".mdp-readabler-palette-box").id,null);else{let n=t.querySelector(".mdp-readabler-color.mdp-active");null!==n&&n.classList.remove("mdp-active"),e.target.classList.add("mdp-active"),f.firePaletteChange(t,e.target.dataset.color),b(e.target.closest(".mdp-readabler-palette-box").id,e.target.dataset.color)}},loadSaved:function(){document.querySelectorAll(".mdp-readabler-palette-box").forEach((e=>{let t=m(e.id);null!==t&&e.querySelectorAll(".mdp-readabler-color").forEach((e=>{e.dataset.color===t&&e.click()}))}))},firePaletteChange:function(e,t){const n=new CustomEvent("ReadablerPaletteChanged",{detail:{color:t}});e.dispatchEvent(n)}},v={fontSizingStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-font-sizing .mdp-readabler-value").addEventListener("ReadablerInputSpinnerChanged",this.fontSizing)},fontScaling:function(e,t){const n="object"==typeof avadaHeaderVars||"object"==typeof avadaSelectVars;for(let a of e)if(document.getElementsByTagName(a).length>0)for(let e of document.getElementsByTagName(a)){if(n&&(setTimeout((function(){let t=e.getAttribute("style");t&&t.includes("--fontSize")&&(t=t.replace("--fontSize:","--fusionFontSize:"),e.setAttribute("style",t)),e.classList.contains("fusion-responsive-typography-calculated")&&e.classList.remove("fusion-responsive-typography-calculated")}),0),"INPUT"!==e.tagName&&"BUTTON"!==e.tagName&&(null!==e.parentElement.getAttribute("original-size")||null!==e.parentElement.parentElement.getAttribute("original-size")))){if(null!==e.getAttribute("style")){let t=e.getAttribute("style");t=t.replace(/font-size:.*?;/,""),t=t.replace("font-size:",""),e.setAttribute("style",t)}continue}let a=window.getComputedStyle(e).fontSize.split("px",1)[0];null===e.getAttribute("original-size")?e.setAttribute("original-size",a):a=e.getAttribute("original-size"),e.style.fontSize=`${parseInt(a)+a*(.01*t)}px`}},fontSizing:function(e){let t=parseInt(e.target.dataset.value);0!==t?(document.body.classList.add("mdp-readabler-font-sizing"),v.fontScaling(["h1","h2","h3","h4","h5","h6","p","span","p","a","li","label","input","select","textarea","legend","code","pre","dd","dt","span","blockquote"],t)):document.body.classList.remove("mdp-readabler-font-sizing")}},L={lineHeightStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-line-height .mdp-readabler-value").addEventListener("ReadablerInputSpinnerChanged",this.lineHeight)},fontLeading:function(e,t){for(let n of e)if(document.getElementsByTagName(n).length>0)for(let e of document.getElementsByTagName(n)){let n=window.getComputedStyle(e).lineHeight.split("px",1)[0];null===e.getAttribute("original-leading")?e.setAttribute("original-leading",n):n=e.getAttribute("original-leading"),e.style.lineHeight=`${parseInt(n)+n*(.01*t)}px`}},lineHeight:function(e){let t=parseInt(e.target.dataset.value);0!==t?(document.body.classList.add("mdp-readabler-line-height"),L.fontLeading(["h1","h2","h3","h4","h5","h6","p","span","p","a","li","label","input","select","textarea","legend","code","pre","dd","dt","span","blockquote"],t)):document.body.classList.remove("mdp-readabler-line-height")}},x={letterSpacingStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-letter-spacing .mdp-readabler-value").addEventListener("ReadablerInputSpinnerChanged",this.letterSpacing)},letterSpacing:function(e){let t=parseInt(e.target.dataset.value);if(0===t)return void document.body.classList.remove("mdp-readabler-letter-spacing");document.body.classList.add("mdp-readabler-letter-spacing");let n=t/100;x.letterSpacingStyle.innerHTML=`\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-letter-spacing,\n                body.mdp-readabler-letter-spacing h1,\n                body.mdp-readabler-letter-spacing h1 span,\n                body.mdp-readabler-letter-spacing h2,\n                body.mdp-readabler-letter-spacing h2 span,\n                body.mdp-readabler-letter-spacing h3,\n                body.mdp-readabler-letter-spacing h3 span,\n                body.mdp-readabler-letter-spacing h4,\n                body.mdp-readabler-letter-spacing h4 span,\n                body.mdp-readabler-letter-spacing h5,\n                body.mdp-readabler-letter-spacing h5 span,\n                body.mdp-readabler-letter-spacing h6,\n                body.mdp-readabler-letter-spacing h6 span,\n                \n                body.mdp-readabler-letter-spacing p,\n                body.mdp-readabler-letter-spacing li,\n                body.mdp-readabler-letter-spacing label,\n                body.mdp-readabler-letter-spacing input,\n                body.mdp-readabler-letter-spacing select,\n                body.mdp-readabler-letter-spacing textarea,\n                body.mdp-readabler-letter-spacing legend,\n                body.mdp-readabler-letter-spacing code,\n                body.mdp-readabler-letter-spacing pre,\n                body.mdp-readabler-letter-spacing dd,\n                body.mdp-readabler-letter-spacing dt,\n                body.mdp-readabler-letter-spacing span,\n                body.mdp-readabler-letter-spacing blockquote {\n                    letter-spacing: ${n}px !important;    \n                }\n            `,document.head.appendChild(x.letterSpacingStyle)}};let S=function(){let e,t={popup:document.getElementById("mdp-readabler-popup"),init:function(){"1"===e.popupDraggable&&(t.draggablePopup(),t.setPopupPosition()),document.getElementById("mdp-readabler-popup-close").addEventListener("click",t.closePopupCross),document.addEventListener("click",t.togglePopup),window.addEventListener("resize",(e=>{Z(t.setPopupPosition(e),300)}))},setPopupPosition:function(e=void 0){let n=m("popupTop"),a=m("popupLeft");null!==n&&null!==a&&t.applyPopupPosition(n,a,e)},applyPopupPosition:function(e,n,a=void 0){e=this.topInBound(e),n=this.leftInBound(n),t.popup.style.top=e+"px",t.popup.style.left=n+"px",t.popup.style.transition=void 0!==a?"top 0.3s ease, left 0.3s ease":"none",b("popupTop",e),b("popupLeft",n),this.popup.removeAttribute("data-start")},topInBound:function(e){let t=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);return e<0&&(e=0),e>t-this.popup.offsetHeight&&(e=t-this.popup.offsetHeight),e},leftInBound:function(e){let n=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);return e<0&&(e=0),e>n-this.popup.offsetWidth&&(e=n-t.popup.offsetWidth),e},closePopupCross:function(e){e.preventDefault(),MicroModal.close("mdp-readabler-popup-box"),t.releaseTriggerButtons()},closePopupOverlay:function(e){const n=e.composedPath||e.composedPath();let a=!1;if("object"==typeof n&&n.length>0){for(const e of n)if("mdp-readabler-popup"===e.id){a=!0;break}a||(MicroModal.close("mdp-readabler-popup-box"),t.releaseTriggerButtons(),document.removeEventListener("click",t.closePopupOverlay))}},togglePopup:function(n){if(void 0!==n){let e=n.target,t=null;if(!e)return;if(t=null!==e.closest("[data-readabler-trigger]")?e.closest("[data-readabler-trigger]"):e.closest(".readabler-trigger"),null===t)return;n.preventDefault()}let a=document.getElementById("mdp-readabler-popup-box");a.classList.contains("mdp-is-open")?(MicroModal.close("mdp-readabler-popup-box"),t.releaseTriggerButtons()):(MicroModal.show("mdp-readabler-popup-box",{onClose:()=>{t.onClosePopup()},openClass:"mdp-is-open",disableScroll:!e.popupScroll,disableFocus:!1}),t.holdTriggerButtons(),t.setPopupPosition(),"1"===e.closeAnywhere&&document.addEventListener("click",t.closePopupOverlay),function(e){const t=e.querySelectorAll(".select2");t.forEach((e=>e.remove()));const n=e.querySelectorAll(".select2-hidden-accessible");n.forEach((e=>{e.classList.remove("select2-hidden-accessible"),e.removeAttribute("tabindex")}))}(a))},holdTriggerButtons:function(){document.querySelectorAll("[data-readabler-trigger]").forEach((e=>{e.classList.add("mdp-opened")}))},releaseTriggerButtons:function(){document.querySelectorAll("[data-readabler-trigger]").forEach((e=>{e.classList.remove("mdp-opened")}));let e=document.getElementById("mdp-readabler-accessibility-statement-box");null!==e&&e.classList.contains("mdp-open")&&e.classList.remove("mdp-open")},onClosePopup:function(){t.releaseTriggerButtons()},draggablePopup:function(){let e=document.getElementById("mdp-readabler-popup-header"),n=0,a=0,o=0,i=0;function r(e){(e=e||window.event).preventDefault(),n=o-e.clientX,a=i-e.clientY,o=e.clientX,i=e.clientY;let r=t.popup.offsetTop-a,d=t.popup.offsetLeft-n;t.applyPopupPosition(r,d),b("popupTop",r.toString()),b("popupLeft",d.toString())}function d(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",d)}e.onmousedown=function(e){if(!function(e){if("buttons"in e)return 1===e.buttons;return 1===(e.which||e.button)}(e=e||window.event))return;e.preventDefault(),o=e.clientX,i=e.clientY,document.addEventListener("mousemove",r),document.addEventListener("mouseup",d)}}},a={init:function(){let t="on"===e.ignoreSavedConfig;const n=["content_scaling","font_sizing","line_height","letter_spacing"];J()&&!t||e.startConfig&&e.startConfig.forEach((t=>{const a=t.includes("profile")?`accessibility-${t}`:`action-${t}`,o=`mdp-readabler-${a.replaceAll("_","-")}`,i=document.getElementById(o);if(i)if(n.includes(t)){const n=e[Q(t,"_","start")]?e[Q(t,"_","start")]:0;let a=i.querySelector(".mdp-readabler-value");a.dataset.value=n.toString(),y.setLabel(a,n);const r=new CustomEvent("ReadablerInputSpinnerChanged",{});a.dispatchEvent(r),b(o,a.dataset.value)}else{const e=m(`mdp-readabler-${a.replaceAll("_","-")}`);JSON.parse(e)||i.click()}}))}},i={init:function(){i.OpenInterface(),i.focusElements(e.hotKeyMenu,'nav, [role="navigation"]'),i.focusElements(e.hotKeyHeadings,'h1, h2, h3, h4, h5, h6, [role="heading"]'),i.focusElements(e.hotKeyForms,"form:not([disabled])"),i.focusElements(e.hotKeyButtons,'button:not([disabled]), [role="button"]:not([disabled])'),i.focusElements(e.hotKeyGraphics,"img, picture, svg"),document.body.onkeydown=function(e){32===(e.keyCode||e.charCode||e.which)&&i.spacePressed(e)}},spacePressed:function(e){let t=document.activeElement;(t.classList.contains("mdp-readabler-accessibility-profile-item")||t.classList.contains("mdp-readabler-toggle-box")||t.classList.contains("mdp-readabler-color"))&&(e.preventDefault(),t.click())},OpenInterface:function(){hotkeys(e.hotKeyOpenInterface,(function(e){e.preventDefault(),t.togglePopup()}))},focusElements:function(e,t){hotkeys(e+",shift+"+e,(function(e,n){if(!document.body.classList.contains("mdp-readabler-keyboard-navigation"))return;e.preventDefault();let a=!0;n.key.startsWith("shift+")&&(a=!1),z.setFocus(t,a)}))}},d={clearResultsBtn:document.querySelector("#mdp-readabler-online-dictionary-search-close"),searchInput:document.getElementById("mdp-readabler-online-dictionary-search"),searchResultsUL:document.getElementById("mdp-readabler-online-dictionary-search-results"),init:function(){this.searchInput.addEventListener("input",(e=>{Z(this.searchQuery(e),800)})),this.clearResultsBtn.addEventListener("click",this.clearSearchResults)},getLang:function(){if("auto"===e.language){const e=document.querySelector("html");return e.getAttribute("lang")?e.getAttribute("lang").split("-",1)[0]:"en"}return e.language},searchQuery:function(e){let t=e.target.value;if(0===t.trim().length)return;if(t.trim().length<3)return void(this.searchResultsUL.innerHTML="");let n=encodeURI(t),a=`https://${this.getLang()}.wikipedia.org/w/api.php?action=query&format=json&utf8=&explaintext=&exlimit=3&generator=prefixsearch&prop=pageprops|extracts|extracts|description&redirects=&gpssearch=${n}&gpslimit=3&origin=*`;fetch(a).then((e=>e.json())).then((e=>{this.searchResultsUL.innerHTML="";for(let t in e.query.pages)e.query.pages.hasOwnProperty(t)&&this.addResultToList(e.query.pages[t]);this.clearResultsBtn.style.display="block"})).catch((e=>{}))},addResultToList:function(t){const n=void 0!==t.description?t.description:"";let a=document.createElement("li");a.innerHTML=`\n                    <h5 class="mdp-readabler-online-dictionary-title">${t.title}</h5>\n                    <p class="mdp-readabler-online-dictionary-text">${n}</p>\n                    <a target="_blank" rel="nofollow" class="mdp-readabler-online-dictionary-link" href="https://${this.getLang()}.wikipedia.org/wiki/${t.title}">${e.LEARN_MORE_IN_WIKIPEDIA}</a>\n                    `,this.searchResultsUL.appendChild(a)},clearSearchResults:function(){d.searchInput.setAttribute("value",""),d.searchResultsUL.innerHTML="",d.clearResultsBtn.style.display="none"}},S={profiles:document.querySelectorAll("#mdp-readabler-accessibility-profiles-box .mdp-readabler-accessibility-profile-item"),init:function(){S.isProfiles&&(this.profiles.forEach((e=>e.addEventListener("click",Z(this.toggleProfile,100)))),this.profiles.forEach((e=>e.addEventListener("keydown",Z(this.toggleProfile,100)))))},toggleProfile:function(e){if("keydown"===e.type&&13!==e.keyCode)return;let t=this.closest(".mdp-readabler-accessibility-profile-item"),n=t.querySelector('input[type="checkbox"]');if(t.classList.contains("mdp-active")){t.classList.remove("mdp-active"),n.checked=!1,b(t.id,"0");let e=t.id.replace("mdp-readabler-accessibility-profile-","");e=Y(e,"-"),e=e.replace("-",""),e="profile"+e,S[e](!1)}else{let e=document.querySelector("#mdp-readabler-accessibility-profiles-box .mdp-readabler-accessibility-profile-item.mdp-active");e&&e.click(),t.classList.add("mdp-active"),n.checked=!0,b(t.id,"1");let a=t.id.replace("mdp-readabler-accessibility-profile-","");a=Y(a,"-"),a=a.replace("-",""),a="profile"+a,S[a](!0)}},loadSaved:function(){S.profiles.forEach((e=>{"1"===m(e.id)&&(e.querySelector('input[type="checkbox"]').checked=!0,e.click())}))},profileEpilepsy:function(e){let t="mdp-readabler-profile-epilepsy";if(e){document.body.classList.add(t);let e=document.querySelector("#mdp-readabler-action-low-saturation:not(.mdp-active)");e&&e.click();let n=document.querySelector("#mdp-readabler-action-stop-animations:not(.mdp-active)");n&&n.click()}else{document.body.classList.remove(t);let e=document.querySelector("#mdp-readabler-action-low-saturation.mdp-active");e&&e.click();let n=document.querySelector("#mdp-readabler-action-stop-animations.mdp-active");n&&n.click()}},profileVisuallyImpaired:function(e){let t="mdp-readabler-profile-visually-impaired";if(e){document.body.classList.add(t);let e=document.querySelector("#mdp-readabler-action-readable-font:not(.mdp-active)");e&&e.click();let n=document.querySelector("#mdp-readabler-action-high-saturation:not(.mdp-active)");n&&n.click()}else{document.body.classList.remove(t);let e=document.querySelector("#mdp-readabler-action-readable-font.mdp-active");e&&e.click();let n=document.querySelector("#mdp-readabler-action-high-saturation.mdp-active");n&&n.click()}},profileCognitiveDisability:function(e){let t="mdp-readabler-profile-cognitive-disability";if(e){document.body.classList.add(t);let e=document.querySelector("#mdp-readabler-action-highlight-titles:not(.mdp-active)");e&&e.click();let n=document.querySelector("#mdp-readabler-action-highlight-links:not(.mdp-active)");n&&n.click();let a=document.querySelector("#mdp-readabler-action-stop-animations:not(.mdp-active)");a&&a.click()}else{document.body.classList.remove(t);let e=document.querySelector("#mdp-readabler-action-highlight-titles.mdp-active");e&&e.click();let n=document.querySelector("#mdp-readabler-action-highlight-links.mdp-active");n&&n.click();let a=document.querySelector("#mdp-readabler-action-stop-animations.mdp-active");a&&a.click()}},profileAdhdFriendly:function(e){let t="mdp-readabler-profile-adhd-friendly";if(e){document.body.classList.add(t);let e=document.querySelector("#mdp-readabler-action-high-saturation:not(.mdp-active)");e&&e.click();let n=document.querySelector("#mdp-readabler-action-stop-animations:not(.mdp-active)");n&&n.click();let a=document.querySelector("#mdp-readabler-action-reading-mask:not(.mdp-active)");a&&a.click()}else{document.body.classList.remove(t);let e=document.querySelector("#mdp-readabler-action-high-saturation.mdp-active");e&&e.click();let n=document.querySelector("#mdp-readabler-action-stop-animations.mdp-active");n&&n.click();let a=document.querySelector("#mdp-readabler-action-reading-mask.mdp-active");a&&a.click()}},profileBlindUsers:function(e){let t="mdp-readabler-profile-blind-users";if(e){document.body.classList.add(t);let e=document.querySelector("#mdp-readabler-action-readable-font:not(.mdp-active)");e&&e.click();let n=document.querySelector("#mdp-readabler-action-virtual-keyboard:not(.mdp-active)");n&&n.click();let a=document.querySelector("#mdp-readabler-action-text-to-speech:not(.mdp-active)");a&&a.click();let o=document.querySelector("#mdp-readabler-action-keyboard-navigation:not(.mdp-active)");o&&o.click()}else{document.body.classList.remove(t);let e=document.querySelector("#mdp-readabler-action-readable-font.mdp-active");e&&e.click();let n=document.querySelector("#mdp-readabler-action-virtual-keyboard.mdp-active");n&&n.click();let a=document.querySelector("#mdp-readabler-action-text-to-speech.mdp-active");a&&a.click();let o=document.querySelector("#mdp-readabler-action-keyboard-navigation.mdp-active");o&&o.click()}},isProfiles:function(){return!!(e.profileEpilepsy||e.profileVisuallyImpaired||e.profileCognitiveDisability||e.profileAdhdFriendly||e.profileBlindUsers)}},k={init:function(){document.querySelector("#mdp-readabler-action-content-scaling .mdp-readabler-value").addEventListener("ReadablerInputSpinnerChanged",this.scaleContent)},scaleContent:function(e){let t=parseInt(e.target.dataset.value);navigator.userAgent.toLowerCase().indexOf("firefox")>0?k.setFirefoxProperty(t,"body","-moz-transform",""):k.setElementProperty(t,"body > *","zoom","")},setFirefoxProperty:function(e,t,n,a){let o=Y(n,"-").replace("-","");o="readabler"+o;let i=document.querySelector(t),r=parseFloat(i.dataset[o]);if(!r||isNaN(r)){let e=window.getComputedStyle(i,null).getPropertyValue(n);r="none"===e?1:parseFloat(e.split("(")[1].split(")")[0]),i.dataset[o]=r.toString()}0===r&&(r=1);let d=(r+Math.abs(r/100)*e).toFixed(2);1===parseFloat(d)?(i.style.setProperty(n,"none","important"),i.style.removeProperty("-moz-transform-origin")):(i.style.setProperty(n,`scale(${d.toString()})`,"important"),i.style.setProperty("-moz-transform-origin","top left","important"))},setElementProperty:function(e,t,n,a){let o=Y(n,"-").replace("-","");o="readabler"+o,document.querySelectorAll(t).forEach((t=>{let i=parseFloat(t.dataset[o]);if(!i){let e=window.getComputedStyle(t,null).getPropertyValue(n);i=parseFloat(e),"normal"===e&&(i=0),t.dataset[o]=i.toString()}0===i&&(i=1);let r=(i+Math.abs(i/100)*e).toFixed(2);t.style.setProperty(n,r.toString()+a,"important")}))}},w={readableFontStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-readable-font").addEventListener("ReadablerToggleBoxChanged",w.readableFont)},readableFont:function(e){e.target.classList.contains("mdp-active")?(w.disableOthers(),document.body.classList.add("mdp-readabler-readable-font"),w.readableFontStyle.innerHTML="\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-readable-font *:not(i){\n                    font-family: Arial, Helvetica, sans-serif !important;\n                }\n            ",document.head.appendChild(w.readableFontStyle)):document.body.classList.remove("mdp-readabler-readable-font")},disableOthers:function(){let e=document.getElementById("mdp-readabler-action-dyslexia-font");e&&e.classList.contains("mdp-active")&&e.click()}},E={dyslexiaFriendlyStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-dyslexia-font").addEventListener("ReadablerToggleBoxChanged",E.dyslexiaFriendly)},dyslexiaFriendly:function(t){t.target.classList.contains("mdp-active")?(E.disableOthers(),document.body.classList.add("mdp-readabler-dyslexia-font"),E.dyslexiaFriendlyStyle.innerHTML=`\n                /*noinspection CssUnknownTarget*/\n                @font-face {\n                    font-family: 'OpenDyslexic';\n                    src: url("${e.pluginURL}fonts/OpenDyslexic-Italic.eot");\n                    src: local("OpenDyslexic Italic"), local("OpenDyslexic-Italic"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Italic.eot?#iefix") format("embedded-opentype"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Italic.woff2") format("woff2"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Italic.woff") format("woff");\n                    font-weight: normal;\n                    font-style: italic;\n                    font-display: swap; \n                }\n\n                /*noinspection CssUnknownTarget*/\n                @font-face {\n                    font-family: 'OpenDyslexic';\n                    src: url("${e.pluginURL}fonts/OpenDyslexic-Bold-Italic.eot");\n                    src: local("OpenDyslexic Bold Italic"), local("OpenDyslexic-Bold-Italic"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold-Italic.eot?#iefix") format("embedded-opentype"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold-Italic.woff2") format("woff2"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold-Italic.woff") format("woff");\n                    font-weight: bold;\n                    font-style: italic;\n                    font-display: swap; \n                }\n\n                /*noinspection CssUnknownTarget*/\n                @font-face {\n                    font-family: 'OpenDyslexic';\n                    src: url("${e.pluginURL}fonts/OpenDyslexic-Bold.eot");\n                    src: local("OpenDyslexic Bold"), local("OpenDyslexic-Bold"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold.eot?#iefix") format("embedded-opentype"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold.woff2") format("woff2"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Bold.woff") format("woff");\n                    font-weight: bold;\n                    font-style: normal;\n                    font-display: swap; \n                }\n\n                /*noinspection CssUnknownTarget*/\n                @font-face {\n                    font-family: 'OpenDyslexic';\n                    src: url("${e.pluginURL}fonts/OpenDyslexic-Regular.eot");\n                    src: local("OpenDyslexic Regular"), local("OpenDyslexic-Regular"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Regular.eot?#iefix") format("embedded-opentype"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Regular.woff2") format("woff2"), \n                         url("${e.pluginURL}fonts/OpenDyslexic-Regular.woff") format("woff");\n                    font-weight: normal;\n                    font-style: normal;\n                    font-display: swap; \n                }\n                    \n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-dyslexia-font,\n                body.mdp-readabler-dyslexia-font h1,\n                body.mdp-readabler-dyslexia-font h1 span,\n                body.mdp-readabler-dyslexia-font h2,\n                body.mdp-readabler-dyslexia-font h2 span,\n                body.mdp-readabler-dyslexia-font h3,\n                body.mdp-readabler-dyslexia-font h3 span,\n                body.mdp-readabler-dyslexia-font h4,\n                body.mdp-readabler-dyslexia-font h4 span,\n                body.mdp-readabler-dyslexia-font h5,\n                body.mdp-readabler-dyslexia-font h5 span,\n                body.mdp-readabler-dyslexia-font h6,\n                body.mdp-readabler-dyslexia-font h6 span,\n\n                body.mdp-readabler-dyslexia-font a,\n                body.mdp-readabler-dyslexia-font p,\n                body.mdp-readabler-dyslexia-font li a,\n                body.mdp-readabler-dyslexia-font label,\n                body.mdp-readabler-dyslexia-font input,\n                body.mdp-readabler-dyslexia-font select,\n                body.mdp-readabler-dyslexia-font textarea,\n                body.mdp-readabler-dyslexia-font legend,\n                body.mdp-readabler-dyslexia-font code,\n                body.mdp-readabler-dyslexia-font pre,\n                body.mdp-readabler-dyslexia-font dd,\n                body.mdp-readabler-dyslexia-font dt,\n                body.mdp-readabler-dyslexia-font span,\n                body.mdp-readabler-dyslexia-font blockquote {\n                    font-family: 'OpenDyslexic', serif !important;\n                }\n            `,document.head.appendChild(E.dyslexiaFriendlyStyle)):document.body.classList.remove("mdp-readabler-dyslexia-font")},disableOthers:function(){let e=document.getElementById("mdp-readabler-action-readable-font");e.classList.contains("mdp-active")&&e.click()}},C={highlightTitlesStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-highlight-titles").addEventListener("ReadablerToggleBoxChanged",C.highlightTitles)},highlightTitles:function(t){t.target.classList.contains("mdp-active")?(document.body.classList.add("mdp-readabler-highlight-titles"),C.highlightTitlesStyle.innerHTML=`                    \n                body.mdp-readabler-highlight-titles h1, \n                body.mdp-readabler-highlight-titles h2, \n                body.mdp-readabler-highlight-titles h3, \n                body.mdp-readabler-highlight-titles h4, \n                body.mdp-readabler-highlight-titles h5, \n                body.mdp-readabler-highlight-titles h6, \n                body.mdp-readabler-highlight-titles [role="heading"] {\n                    outline-style: ${e.highlightTitlesStyle} !important;\n                    outline-color: ${e.highlightTitlesColor} !important;\n                    outline-width: ${e.highlightTitlesWidth}px !important;\n                    outline-offset: ${e.highlightTitlesOffset}px !important;\n                }\n            `,document.head.appendChild(C.highlightTitlesStyle)):document.body.classList.remove("mdp-readabler-highlight-titles")}},T={highlightLinksStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-highlight-links").addEventListener("ReadablerToggleBoxChanged",T.highlightLinks)},highlightLinks:function(t){t.target.classList.contains("mdp-active")?(document.body.classList.add("mdp-readabler-highlight-links"),T.highlightLinksStyle.innerHTML=`                    \n                body.mdp-readabler-highlight-links a {\n                    outline-style: ${e.highlightLinksStyle} !important;\n                    outline-color: ${e.highlightLinksColor} !important;\n                    outline-width: ${e.highlightLinksWidth}px !important;\n                    outline-offset: ${e.highlightLinksOffset}px !important;\n                }\n            `,document.head.appendChild(T.highlightLinksStyle)):document.body.classList.remove("mdp-readabler-highlight-links")}},R={tooltip:document.createElement("div"),textMagnifierStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-text-magnifier").addEventListener("ReadablerToggleBoxChanged",R.textMagnifier),R.tooltip.id="mdp-readabler-text-magnifier-tooltip"},textMagnifier:function(t){if(!t.target.classList.contains("mdp-active"))return document.body.classList.remove("mdp-readabler-text-magnifier"),document.removeEventListener("mousemove",R.updateTooltip,!1),document.body.removeChild(R.tooltip),document.removeEventListener("mouseleave",R.hideTooltip,!1),void document.removeEventListener("mouseenter",R.showTooltip,!1);document.body.classList.add("mdp-readabler-text-magnifier"),document.body.appendChild(R.tooltip),document.addEventListener("mousemove",R.updateTooltip,!1),document.addEventListener("mouseleave",R.hideTooltip,!1),document.addEventListener("mouseenter",R.showTooltip,!1),R.textMagnifierStyle.innerHTML=`\n                /*noinspection CssUnusedSymbol*/                    \n                body.mdp-readabler-text-magnifier #mdp-readabler-text-magnifier-tooltip {\n                    background-color: ${e.textMagnifierBgColor} !important;\n                    color: ${e.textMagnifierColor} !important;\n                    font-size: ${e.textMagnifierFontSize}px !important;\n                }\n            `,document.head.appendChild(R.textMagnifierStyle)},updateTooltip:function(e){if(!["H1","H2","H3","H4","H5","H6","SPAN","P","LI","LABEL","INPUT","SELECT","TEXTAREA","LEGEND","CODE","PRE","DD","DT","A","STRONG","B","BLOCKQUOTE"].includes(e.target.nodeName))return void R.hideTooltip();if(""===e.target.innerText.trim())return void R.hideTooltip();R.showTooltip(),R.tooltip.innerHTML=e.target.innerText;const t=15;let n=window.innerWidth;R.tooltip.style.top=`${e.clientY+t}px`,e.clientX>.5*window.innerWidth?(n=e.clientX-t<=680?e.clientX-t:680,R.tooltip.style.left="unset",R.tooltip.style.right=window.innerWidth-e.clientX-t+"px",R.tooltip.style.maxWidth=`${n}px`):(n=window.innerWidth-e.clientX-45<680?window.innerWidth-e.clientX-45:680,R.tooltip.style.right="unset",R.tooltip.style.left=`${e.clientX+t}px`,R.tooltip.style.maxWidth=`${n}px`)},hideTooltip:function(){R.tooltip.style.visibility="hidden"},showTooltip:function(){R.tooltip.style.visibility="visible"}},q={alignCenterStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-align-center").addEventListener("ReadablerToggleBoxChanged",q.alignCenter)},alignCenter:function(e){e.target.classList.contains("mdp-active")?(q.disableOthers(),document.body.classList.add("mdp-readabler-align-center"),q.alignCenterStyle.innerHTML="\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-align-center,\n                body.mdp-readabler-align-center h1,\n                body.mdp-readabler-align-center h1 span,\n                body.mdp-readabler-align-center h2,\n                body.mdp-readabler-align-center h2 span,\n                body.mdp-readabler-align-center h3,\n                body.mdp-readabler-align-center h3 span,\n                body.mdp-readabler-align-center h4,\n                body.mdp-readabler-align-center h4 span,\n                body.mdp-readabler-align-center h5,\n                body.mdp-readabler-align-center h5 span,\n                body.mdp-readabler-align-center h6,\n                body.mdp-readabler-align-center h6 span,\n\n                body.mdp-readabler-align-center p,\n                body.mdp-readabler-align-center li,\n                body.mdp-readabler-align-center label,\n                body.mdp-readabler-align-center input,\n                body.mdp-readabler-align-center select,\n                body.mdp-readabler-align-center textarea,\n                body.mdp-readabler-align-center legend,\n                body.mdp-readabler-align-center code,\n                body.mdp-readabler-align-center pre,\n                body.mdp-readabler-align-center dd,\n                body.mdp-readabler-align-center dt,\n                body.mdp-readabler-align-center span,\n                body.mdp-readabler-align-center blockquote {\n                    text-align: center !important;\n                }\n            ",document.head.appendChild(q.alignCenterStyle)):document.body.classList.remove("mdp-readabler-align-center")},disableOthers:function(){let e=document.getElementById("mdp-readabler-action-align-left");null!==e&&e.classList.contains("mdp-active")&&e.click();let t=document.getElementById("mdp-readabler-action-align-right");null!==t&&t.classList.contains("mdp-active")&&t.click()}},B={alignLeftStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-align-left").addEventListener("ReadablerToggleBoxChanged",B.alignLeft)},alignLeft:function(e){e.target.classList.contains("mdp-active")?(B.disableOthers(),document.body.classList.add("mdp-readabler-align-left"),B.alignLeftStyle.innerHTML="\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-align-left,\n                body.mdp-readabler-align-left h1,\n                body.mdp-readabler-align-left h1 span,\n                body.mdp-readabler-align-left h2,\n                body.mdp-readabler-align-left h2 span,\n                body.mdp-readabler-align-left h3,\n                body.mdp-readabler-align-left h3 span,\n                body.mdp-readabler-align-left h4,\n                body.mdp-readabler-align-left h4 span,\n                body.mdp-readabler-align-left h5,\n                body.mdp-readabler-align-left h5 span,\n                body.mdp-readabler-align-left h6,\n                body.mdp-readabler-align-left h6 span,\n\n                body.mdp-readabler-align-left p,\n                body.mdp-readabler-align-left li,\n                body.mdp-readabler-align-left label,\n                body.mdp-readabler-align-left input,\n                body.mdp-readabler-align-left select,\n                body.mdp-readabler-align-left textarea,\n                body.mdp-readabler-align-left legend,\n                body.mdp-readabler-align-left code,\n                body.mdp-readabler-align-left pre,\n                body.mdp-readabler-align-left dd,\n                body.mdp-readabler-align-left dt,\n                body.mdp-readabler-align-left span,\n                body.mdp-readabler-align-left blockquote {\n                    text-align: left !important;\n                }\n            ",document.head.appendChild(B.alignLeftStyle)):document.body.classList.remove("mdp-readabler-align-left")},disableOthers:function(){let e=document.getElementById("mdp-readabler-action-align-center");null!==e&&e.classList.contains("mdp-active")&&e.click();let t=document.getElementById("mdp-readabler-action-align-right");null!==t&&t.classList.contains("mdp-active")&&t.click()}},I={alignRightStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-align-right").addEventListener("ReadablerToggleBoxChanged",I.alignRight)},alignRight:function(e){e.target.classList.contains("mdp-active")?(I.disableOthers(),document.body.classList.add("mdp-readabler-align-right"),I.alignRightStyle.innerHTML="\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-align-right,\n                body.mdp-readabler-align-right h1,\n                body.mdp-readabler-align-right h1 span,\n                body.mdp-readabler-align-right h2,\n                body.mdp-readabler-align-right h2 span,\n                body.mdp-readabler-align-right h3,\n                body.mdp-readabler-align-right h3 span,\n                body.mdp-readabler-align-right h4,\n                body.mdp-readabler-align-right h4 span,\n                body.mdp-readabler-align-right h5,\n                body.mdp-readabler-align-right h5 span,\n                body.mdp-readabler-align-right h6,\n                body.mdp-readabler-align-right h6 span,\n\n                body.mdp-readabler-align-right p,\n                body.mdp-readabler-align-right li,\n                body.mdp-readabler-align-right label,\n                body.mdp-readabler-align-right input,\n                body.mdp-readabler-align-right select,\n                body.mdp-readabler-align-right textarea,\n                body.mdp-readabler-align-right legend,\n                body.mdp-readabler-align-right code,\n                body.mdp-readabler-align-right pre,\n                body.mdp-readabler-align-right dd,\n                body.mdp-readabler-align-right dt,\n                body.mdp-readabler-align-right span,\n                body.mdp-readabler-align-right blockquote {\n                    text-align: right !important;\n                }\n            ",document.head.appendChild(I.alignRightStyle)):document.body.classList.remove("mdp-readabler-align-right")},disableOthers:function(){let e=document.getElementById("mdp-readabler-action-align-center");null!==e&&e.classList.contains("mdp-active")&&e.click();let t=document.getElementById("mdp-readabler-action-align-left");null!==t&&t.classList.contains("mdp-active")&&t.click()}},M={textColorsStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-text-colors").addEventListener("ReadablerPaletteChanged",M.textColors)},textColors:function(e){let t=e.detail.color;null!==t?(document.body.classList.add("mdp-readabler-text-colors"),M.textColorsStyle.innerHTML=`\n                body.mdp-readabler-text-colors a,\n                body.mdp-readabler-text-colors p,\n                body.mdp-readabler-text-colors li,\n                body.mdp-readabler-text-colors label,\n                body.mdp-readabler-text-colors input,\n                body.mdp-readabler-text-colors select,\n                body.mdp-readabler-text-colors textarea,\n                body.mdp-readabler-text-colors legend,\n                body.mdp-readabler-text-colors code,\n                body.mdp-readabler-text-colors pre,\n                body.mdp-readabler-text-colors dd,\n                body.mdp-readabler-text-colors dt,\n                body.mdp-readabler-text-colors span,\n                body.mdp-readabler-text-colors blockquote {\n                    color: ${t} !important;\n                }\n            `,document.head.appendChild(M.textColorsStyle)):document.body.classList.remove("mdp-readabler-text-colors")}},A={titleColorsStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-title-colors").addEventListener("ReadablerPaletteChanged",A.titleColors)},titleColors:function(e){let t=e.detail.color;null!==t?(document.body.classList.add("mdp-readabler-title-colors"),A.titleColorsStyle.innerHTML=`\n                body.mdp-readabler-title-colors h1,\n                body.mdp-readabler-title-colors h1 *,\n                body.mdp-readabler-title-colors h2,\n                body.mdp-readabler-title-colors h2 *,\n                body.mdp-readabler-title-colors h3,\n                body.mdp-readabler-title-colors h3 *,\n                body.mdp-readabler-title-colors h4,\n                body.mdp-readabler-title-colors h4 *,\n                body.mdp-readabler-title-colors h5,\n                body.mdp-readabler-title-colors h5 *,\n                body.mdp-readabler-title-colors h6,\n                body.mdp-readabler-title-colors h6 * {\n                    color: ${t} !important;\n                }\n            `,document.head.appendChild(A.titleColorsStyle)):document.body.classList.remove("mdp-readabler-title-colors")}},O={backgroundColorsStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-background-colors").addEventListener("ReadablerPaletteChanged",O.backgroundColors)},backgroundColors:function(e){let t=e.detail.color;null!==t?(document.body.classList.add("mdp-readabler-background-colors"),O.backgroundColorsStyle.innerHTML=`\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-background-colors,\n                body.mdp-readabler-background-colors h1,\n                body.mdp-readabler-background-colors h1 span,\n                body.mdp-readabler-background-colors h2,\n                body.mdp-readabler-background-colors h2 span,\n                body.mdp-readabler-background-colors h3,\n                body.mdp-readabler-background-colors h3 span,\n                body.mdp-readabler-background-colors h4,\n                body.mdp-readabler-background-colors h4 span,\n                body.mdp-readabler-background-colors h5,\n                body.mdp-readabler-background-colors h5 span,\n                body.mdp-readabler-background-colors h6,\n                body.mdp-readabler-background-colors h6 span,\n\n                body.mdp-readabler-background-colors p,\n                body.mdp-readabler-background-colors a,\n                body.mdp-readabler-background-colors li,\n                body.mdp-readabler-background-colors label,\n                body.mdp-readabler-background-colors input,\n                body.mdp-readabler-background-colors select,\n                body.mdp-readabler-background-colors textarea,\n                body.mdp-readabler-background-colors legend,\n                body.mdp-readabler-background-colors code,\n                body.mdp-readabler-background-colors pre,\n                body.mdp-readabler-background-colors dd,\n                body.mdp-readabler-background-colors dt,\n                body.mdp-readabler-background-colors span,\n                body.mdp-readabler-background-colors blockquote {\n                    background-color: ${t} !important;\n                }\n            `,document.head.appendChild(O.backgroundColorsStyle)):document.body.classList.remove("mdp-readabler-background-colors")}},$={init:function(){document.querySelector("#mdp-readabler-action-mute-sounds").addEventListener("ReadablerToggleBoxChanged",$.muteSounds)},muteSounds:function(e){if(!e.target.classList.contains("mdp-active"))return $.mute(!1),void document.documentElement.classList.remove("mdp-readabler-mute-sounds");$.mute(!0),document.documentElement.classList.add("mdp-readabler-mute-sounds")},mute:function(e){document.querySelectorAll("video, audio").forEach((t=>{t.muted=e})),document.querySelectorAll("iframe").forEach((t=>{if(t.src.toLowerCase().includes("youtube.com")||t.src.toLowerCase().includes("vimeo.com")){let n=new URL(t.src);e?(n.searchParams.append("mute","1"),n.searchParams.append("muted","1")):(n.searchParams.delete("mute"),n.searchParams.delete("muted")),t.src=n.href}}))}},P={hideImagesStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-hide-images").addEventListener("ReadablerToggleBoxChanged",P.hideImages)},hideImages:function(e){e.target.classList.contains("mdp-active")?(document.body.classList.add("mdp-readabler-hide-images"),P.hideImagesStyle.innerHTML="\n                body.mdp-readabler-hide-images img,\n                body.mdp-readabler-hide-images video {\n                    opacity: 0 !important;\n                    visibility: hidden !important\n                }\n\n                body.mdp-readabler-hide-images * {\n                    background-image: none !important\n                }\n\n            ",document.head.appendChild(P.hideImagesStyle)):document.body.classList.remove("mdp-readabler-hide-images")}},H={keyboardBox:document.getElementById("mdp-readabler-keyboard-box"),keyboard:null,selectedInput:null,init:function(){document.querySelector("#mdp-readabler-action-virtual-keyboard").addEventListener("ReadablerToggleBoxChanged",H.virtualKeyboard),document.addEventListener("focusin",(()=>{const e=H.isTextInput(),t=H.keyboardBox;e?(H.onInputFocus(e),e.addEventListener("input",H.onInputChange)):"none"!==t.style&&(t.style.display="none")}),!0),document.addEventListener("click",(e=>{let t=e.target.nodeName.toLowerCase();null===e.target.closest("#mdp-readabler-keyboard-box")&&"input"!==t&&"textarea"!==t&&(H.keyboardBox.style.display="none")})),H.makeKeyboardDraggable()},isTextInput:function(){const e=document.activeElement,t=e.tagName,n=e.getAttribute("type");return!(!["TEXTAREA","INPUT"].includes(t)||["radio","checkbox","hidden"].includes(n)&&null!==n)&&e},onInputFocus:function(e){document.body.classList.contains("mdp-readabler-virtual-keyboard")&&(H.keyboardBox.style.display="block",e.id||(e.id=H.uid()),H.selectedInput=`#${e.id}`,H.keyboard.setOptions({inputName:e.id}))},onInputChange:function(e){document.body.classList.contains("mdp-readabler-virtual-keyboard")&&H.keyboard.setInput(e.target.value,e.target.id)},virtualKeyboard:function(t){if(!t.target.classList.contains("mdp-active"))return document.body.classList.remove("mdp-readabler-virtual-keyboard"),void H.keyboard.destroy();document.body.classList.add("mdp-readabler-virtual-keyboard");const n=(new(0,window.SimpleKeyboardLayouts.default)).get(e.virtualKeyboardLayout);H.keyboard=new window.SimpleKeyboard.default({newLineOnEnter:!0,onChange:e=>H.onChange(e),onKeyPress:e=>H.onKeyPress(e),layout:n.layout,theme:"mdp-readabler-simple-keyboard",physicalKeyboardHighlight:!0})},onChange:function(e){document.querySelector(H.selectedInput).value=e},onKeyPress:function(e){"{lock}"!==e&&"{shift}"!==e||H.handleShiftButton()},handleShiftButton:function(){let e="default"===H.keyboard.options.layoutName?"shift":"default";H.keyboard.setOptions({layoutName:e})},uid:function(){return"mdp-"+Date.now().toString(36)+Math.random().toString(36).substr(2)},makeKeyboardDraggable:function(){let e,t,n,a,o=H.keyboardBox,i=document.documentElement,r=!1,d=0,l=0;function s(e){"touchstart"===e.type?(n=e.touches[0].clientX-d,a=e.touches[0].clientY-l):(n=e.clientX-d,a=e.clientY-l),e.target===o&&(r=!0)}function c(){n=e,a=t,r=!1}function u(i){var s,c;r&&("touchmove"===i.type?(e=i.touches[0].clientX-n,t=i.touches[0].clientY-a):(e=i.clientX-n,t=i.clientY-a),d=e,l=t,s=e,c=t,o.style.transform="translate3d("+s+"px, "+c+"px, 0)")}i.addEventListener("touchstart",s,!1),i.addEventListener("touchend",c,!1),i.addEventListener("touchmove",u,!1),i.addEventListener("mousedown",s,!1),i.addEventListener("mouseup",c,!1),i.addEventListener("mousemove",u,!1)}},U={readingGuideStyle:document.createElement("style"),readingGuideEl:null,init:function(){document.querySelector("#mdp-readabler-action-reading-guide").addEventListener("ReadablerToggleBoxChanged",U.readingGuide)},readingGuide:function(e){e.target.classList.contains("mdp-active")?U.createReadingGuide():U.removeReadingGuide()},createReadingGuide:function(){document.querySelectorAll(".mdp-readabler-reading-guide-element").length||(U.addCSS(),U.readingGuideEl=document.createElement("div"),U.readingGuideEl.classList.add("mdp-readabler-reading-guide-element"),document.body.appendChild(U.readingGuideEl),document.addEventListener("mousemove",U.moveReadingGuide),document.addEventListener("click",U.moveReadingGuide))},moveReadingGuide:function(e){let t=e.clientX-Math.round(U.readingGuideEl.clientWidth/2),n=e.clientY;U.readingGuideEl.style.transform="translate3d("+t+"px,"+n+"px,0px)"},removeReadingGuide:function(){document.body.classList.remove("mdp-readabler-reading-guide"),U.readingGuideEl.remove(),document.removeEventListener("mousemove",U.moveReadingGuide),document.removeEventListener("click",U.moveReadingGuide)},addCSS:function(){document.body.classList.add("mdp-readabler-reading-guide"),U.readingGuideStyle.innerHTML=`\n                /*noinspection CssUnusedSymbol*/\n                .mdp-readabler-reading-guide {\n                    --readabler-reading-guide-width: ${e.readingGuideWidth}px;\n                    --readabler-reading-guide-height: ${e.readingGuideHeight}px;\n                    --readabler-reading-guide-radius: ${e.readingGuideBorderRadius}px;\n                    --readabler-reading-guide-bg: ${e.readingGuideBackgroundColor};\n                    --readabler-reading-guide-border-color: ${e.readingGuideBorderColor};\n                    --readabler-reading-guide-border-width: ${e.readingGuideBorderWidth}px;\n                    --readabler-reading-guide-arrow: ${e.readingGuideArrow}px;\n                    --readabler-reading-guide-arrow-margin: ${0-e.readingGuideArrow}px;\n                }\n            `,document.head.appendChild(U.readingGuideStyle)}},D={select:document.getElementById("mdp-readabler-useful-links"),init:function(){D.buildSelect(),D.select.addEventListener("change",(e=>{window.location.href=e.target.value}))},grabLinks:function(){let t=document.querySelectorAll("a"),n=[];n.push([e.HOME,window.location.origin]);for(let e=0;e<t.length;e++){let a=t[e].innerText;if(a=a.replace(/\s+/g," ").trim(),""===a)continue;a=a.substring(0,42);let o=t[e].href;o=o.trim(),o=o.replace(/#$/,""),o=o.replace(/\/$/,""),""!==o&&("#"!==o&&(o.toLowerCase().startsWith("javascript:")||n.some((function(e){return e[1]===o}))||n.push([a,o])))}return n},buildSelect:function(){let e=D.grabLinks();for(let t=0;t<e.length;t++){let n=document.createElement("option");n.textContent=e[t][0],n.value=e[t][1],D.select.appendChild(n)}}},_={stopAnimationsStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-stop-animations").addEventListener("ReadablerToggleBoxChanged",_.stopAnimations)},stopAnimations:function(e){if(!e.target.classList.contains("mdp-active"))return document.body.classList.remove("mdp-readabler-stop-animations"),void document.querySelectorAll("video").forEach((e=>{!0===e.paused&&"true"===e.dataset.pausedByReadabler&&(e.play(),e.dataset.pausedByReadabler="false")}));document.body.classList.add("mdp-readabler-stop-animations"),_.stopAnimationsStyle.innerHTML="\n\n                /*noinspection CssUnusedSymbol,CssUnknownProperty*/\n                body.mdp-readabler-stop-animations *{\n                    -webkit-transition: none !important;\n                    -moz-transition: none !important;\n                    -ms-transition: none !important;\n                    -o-transition: none !important;\n                    transition: none !important;\n                    -webkit-animation-fill-mode: forwards !important;\n                    -moz-animation-fill-mode: forwards !important;\n                    -ms-animation-fill-mode: forwards !important;\n                    -o-animation-fill-mode: forwards !important;\n                    animation-fill-mode: forwards !important;\n                    -webkit-animation-iteration-count: 1 !important;\n                    -moz-animation-iteration-count: 1 !important;\n                    -ms-animation-iteration-count: 1 !important;\n                    -o-animation-iteration-count: 1 !important;\n                    animation-iteration-count: 1 !important;\n                    -webkit-animation-duration: .01s !important;\n                    -moz-animation-duration: .01s !important;\n                    -ms-animation-duration: .01s !important;\n                    -o-animation-duration: .01s !important;\n                    animation-duration: .01s !important;\n                }\n\n            ",document.head.appendChild(_.stopAnimationsStyle),document.querySelectorAll("video").forEach((e=>{!1===e.paused&&(e.pause(),e.dataset.pausedByReadabler="true")})),document.querySelectorAll("iframe").forEach((e=>{"undefined"===e.dataset.pausedByReadabler?e.dataset.pausedByReadabler="true":setTimeout((function(){let t=e.src;t.includes("www.youtube.com/embed")&&(e.src=t,e.dataset.pausedByReadabler="true")}),300)}))}},N={readingMaskStyle:document.createElement("style"),readingMaskTop:null,readingMaskBottom:null,init:function(){document.querySelector("#mdp-readabler-action-reading-mask").addEventListener("ReadablerToggleBoxChanged",N.readingMask)},readingMask:function(e){e.target.classList.contains("mdp-active")?N.createReadingMask():N.removeReadingMask()},createReadingMask:function(){document.querySelectorAll(".mdp-readabler-reading-mask-top").length||(document.body.classList.add("mdp-readabler-reading-mask"),N.readingMaskTop=document.createElement("div"),N.readingMaskTop.classList.add("mdp-readabler-reading-mask-top"),document.body.appendChild(N.readingMaskTop),N.readingMaskBottom=document.createElement("div"),N.readingMaskBottom.classList.add("mdp-readabler-reading-mask-bottom"),document.body.appendChild(N.readingMaskBottom),document.addEventListener("mousemove",N.moveReadingMask))},moveReadingMask:function(t){let n=t.clientY,a=Math.round(e.readingMaskHeight/2);N.readingMaskTop.style.height=n-a+"px",N.readingMaskBottom.style.top=`${n+a}px`},removeReadingMask:function(){document.body.classList.remove("mdp-readabler-reading-mask"),N.readingMaskTop.remove(),N.readingMaskBottom.remove(),document.removeEventListener("mousemove",N.moveReadingMask)}},F={highlightHoverStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-highlight-hover").addEventListener("ReadablerToggleBoxChanged",F.highlightHover)},highlightHover:function(t){t.target.classList.contains("mdp-active")?(document.body.classList.add("mdp-readabler-highlight-hover"),F.highlightHoverStyle.innerHTML=`\n\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-highlight-hover *:hover {\n                    outline-style: ${e.highlightHoverStyle} !important;\n                    outline-color: ${e.highlightHoverColor} !important;\n                    outline-width: ${e.highlightHoverWidth}px !important;\n                    outline-offset: ${e.highlightHoverOffset}px !important;\n                }\n                \n            `,document.head.appendChild(F.highlightHoverStyle)):document.body.classList.remove("mdp-readabler-highlight-hover")}},G={highlightFocusStyle:document.createElement("style"),init:function(){document.querySelector("#mdp-readabler-action-highlight-focus").addEventListener("ReadablerToggleBoxChanged",G.highlightFocus)},highlightFocus:function(t){t.target.classList.contains("mdp-active")?(document.body.classList.add("mdp-readabler-highlight-focus"),G.highlightFocusStyle.innerHTML=`\n\n                /*noinspection CssUnusedSymbol*/\n                body.mdp-readabler-highlight-focus *:focus {\n                    outline-style: ${e.highlightFocusStyle} !important;\n                    outline-color: ${e.highlightFocusColor} !important;\n                    outline-width: ${e.highlightFocusWidth}px !important;\n                    outline-offset: ${e.highlightFocusOffset}px !important;\n                }\n                \n            `,document.head.appendChild(G.highlightFocusStyle)):document.body.classList.remove("mdp-readabler-highlight-focus")}},z={init:function(){document.querySelector("#mdp-readabler-action-keyboard-navigation").addEventListener("ReadablerToggleBoxChanged",z.keyboardNavigation)},keyboardNavigation:function(e){if(!e.target.classList.contains("mdp-active"))return document.body.classList.remove("mdp-readabler-keyboard-navigation"),z.restoreOriginalTabIndex(),void(ee.enabled=!1);document.body.classList.add("mdp-readabler-keyboard-navigation"),z.makeFocusable(),ee.enabled=!0},makeFocusable:function(){document.querySelectorAll('nav, [role="navigation"], h1, h2, h3, h4, h5, h6, [role="heading"], form:not([disabled]), button:not([disabled]), [role="button"]:not([disabled]), img, picture, svg').forEach((e=>{e.tabIndex<0&&(e.dataset.readablerOriginalTabIndex=e.tabIndex,e.tabIndex=0)}))},restoreOriginalTabIndex:function(){document.querySelectorAll('nav, [role="navigation"], h1, h2, h3, h4, h5, h6, [role="heading"], form:not([disabled]), button:not([disabled]), [role="button"]:not([disabled]), img, picture, svg').forEach((e=>{null!=e.dataset.readablerOriginalTabIndex&&(e.tabIndex=e.dataset.readablerOriginalTabIndex,delete e.dataset.readablerOriginalTabIndex)}))},setFocus:function(e,t=!0){if(document.activeElement){let n=Array.prototype.filter.call(document.querySelectorAll(e),(function(e){return e.offsetWidth>0||e.offsetHeight>0||e===document.activeElement})),a=n.indexOf(document.activeElement);if(a>-1){let e;e=t?n[a+1]||n[0]:n[a-1]||n[n.length-1],e.focus()}else t?n[0].focus():n[n.length-1].focus()}}},W={init:function(){if(null===document.getElementById("mdp-readabler-statement-btn"))return;document.getElementById("mdp-readabler-statement-btn").addEventListener("click",W.show),document.getElementById("mdp-readabler-close-statement-btn").addEventListener("click",W.close)},show:function(e){e.preventDefault(),document.getElementById("mdp-readabler-accessibility-statement-box").classList.add("mdp-open")},close:function(e){e.preventDefault(),document.getElementById("mdp-readabler-accessibility-statement-box").classList.remove("mdp-open")}},X={init:function(){let e=document.getElementById("mdp-readabler-reset-btn");e&&e.addEventListener("click",X.reset)},reset:function(e){e.preventDefault();let t=Object.keys(localStorage);for(const e in t)t[e].toString().startsWith("mdpReadabler")&&localStorage.removeItem(t[e]);location.reload()}},K={init:function(){let e=document.getElementById("mdp-readabler-hide-btn");e&&e.addEventListener("click",K.hide)},hide:function(t){t.preventDefault(),window.confirm(e.HIDE_ACCESSIBILITY_INTERFACE)&&(K.writeCookie("mdp-readabler-hide","1",365),window.location.reload())},writeCookie:function(e,t,n){let a=new Date;return n=n||365,a.setTime(+a+864e5*n),window.document.cookie=e+"="+t+"; expires="+a.toGMTString()+"; path=/",t}};function j(t){if(window.document.cookie.indexOf("mdp-readabler-hide=1")>-1){const e=document.querySelector("#mdp-readabler-popup-box"),t=document.querySelector("#mdp-readabler-trigger-button");return e&&e.remove(),void(t&&t.remove())}e=t,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",V):V()}function V(){const m=document.querySelector("#mdp-readabler-popup-box");m&&m.removeAttribute("style"),t.init(),i.init(),y.init(),g.init(),f.init(),W.init(),X.init(),K.init(),e.onlineDictionary&&d.init(),S.init(),e.contentScaling&&k.init(),e.fontSizing&&v.init(),e.lineHeight&&L.init(),e.letterSpacing&&x.init(),(e.readableFont||e.profileVisuallyImpaired||e.profileBlindUsers)&&w.init(),e.dyslexiaFont&&E.init(),(e.highlightTitles||e.profileCognitiveDisability)&&C.init(),(e.highlightLinks||e.profileCognitiveDisability)&&T.init(),e.textMagnifier&&R.init(),e.alignCenter&&q.init(),e.alignLeft&&B.init(),e.alignRight&&I.init(),e.darkContrast&&l.init(),e.lightContrast&&s.init(),e.monochrome&&p.init(),(e.highSaturation||e.profileVisuallyImpaired||e.profileAdhdFriendly)&&c.init(),e.highContrast&&h.init(),(e.lowSaturation||e.profileEpilepsy)&&u.init(),e.textColors&&M.init(),e.titleColors&&A.init(),e.backgroundColors&&O.init(),e.muteSounds&&$.init(),e.hideImages&&P.init(),(e.virtualKeyboard||e.profileBlindUsers)&&H.init(),e.readingGuide&&U.init(),e.usefulLinks&&D.init(),(e.stopAnimations||e.profileEpilepsy||e.profileCognitiveDisability||e.profileAdhdFriendly)&&_.init(),(e.readingMask||e.profileAdhdFriendly)&&N.init(),e.highlightHover&&F.init(),e.highlightFocus&&G.init(),e.bigBlackCursor&&o.init(),e.bigWhiteCursor&&r.init(),(e.textToSpeech||e.profileBlindUsers)&&n.init(),(e.keyboardNavigation||e.profileBlindUsers)&&z.init(),J()&&(g.loadSaved(),y.loadSaved(),f.loadSaved(),S.loadSaved()),a.init()}function Y(e,t=" "){return e.toLowerCase().split(t).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(t)}function Q(e,t="_",n="",a=""){let o="";return(e=n+t+e+t+a).toLowerCase().split(t).forEach(((e,t)=>{o+=0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1)})),o}function J(){const e=Object.keys(localStorage);return"object"==typeof e&&e.some((e=>{if(e.includes("mdpReadabler"))return!0}))}function Z(e,t){let n=0;return function(...a){clearTimeout(n),n=setTimeout(e.bind(this,...a),t||0)}}let ee=function(){const t=0,n=12,a=8,o={enabled:!1,trigger:i};function i(t,n){g?S():function(){const t=function(){const t=l.createElement("div");return t.innerHTML='<svg id="focus-snail_svg" width="1000" height="800">\t\t<linearGradient id="focus-snail_gradient">\t\t\t<stop id="focus-snail_start" offset="0%" stop-color="'+e.highlightFocusColor+'" stop-opacity="0"/>\t\t\t<stop id="focus-snail_middle" offset="80%" stop-color="'+e.highlightFocusColor+'" stop-opacity="0.8"/>\t\t\t<stop id="focus-snail_end" offset="100%" stop-color="'+e.highlightFocusColor+'" stop-opacity="0"/>\t\t</linearGradient>\t\t<polygon id="focus-snail_polygon" fill="url(#focus-snail_gradient)"/>\t</svg>',t}();g=x(t,"svg"),h=x(t,"polygon"),y=x(t,"start"),f=x(t,"middle"),v=x(t,"end"),L=x(t,"gradient"),c.appendChild(g)}();const a=C(t),o=C(n);let i=0,s=0,u=0,m=0;const k=function(e){return 50*Math.pow(function(e,t,n){if(e<=t)return t;if(e>=n)return n;return e}(e,32,1024),1/3)}(function(e,t,n,a){const o=e-n,i=t-a;return Math.sqrt(o*o+i*i)}(a.left,a.top,o.left,o.top));let R=!0;!function(e,t){const n=Date.now();!function a(){p=requestAnimationFrame((function(){const o=Date.now()-n;e(o/t),o<t&&a()}))}()}((function(e){if(R){!function(){const e=T();g.style.left=e.left+"px",g.style.top=e.top+"px",g.setAttribute("width",d.innerWidth.toString()),g.setAttribute("height",d.innerHeight.toString()),g.classList.add("focus-snail_visible"),i=o.left-e.left,s=a.left-e.left,u=o.top-e.top,m=a.top-e.top}(),function(e,t,n,a,o,i,r,d,l){const s=b(t,n,a,o),c=b(i,r,d,l),u=function(e){const t=Math.floor(e/Math.PI*2)+2,n=Math.PI/4+Math.PI/2*t,a=Math.sqrt(2),o=Math.cos(Math.abs(n-e))*a,i=o*Math.cos(e),r=o*Math.sin(e);return{x1:i<0?1:0,y1:r<0?1:0,x2:i>=0?i:i+1,y2:r>=0?r:r+1}}(Math.atan2(s.y-c.y,s.x-c.x));e.setAttribute("x1",u.x1),e.setAttribute("y1",u.y1),e.setAttribute("x2",isNaN(u.x2)?0:u.x2),e.setAttribute("y2",isNaN(u.y2)?0:u.y2)}(L,s,m,a.width,a.height,i,u,o.width,o.height);!function(e,t){t.points.clear();for(let n=0;n<e.length;n++){w(t,e[n])}}(function(e,t){let n=0;e.top<t.top&&(n=1);e.right>t.right&&(n+=2);e.bottom>t.bottom&&(n+=4);e.left<t.left&&(n+=8);const a=[[],[0,1],[1,2],[0,1,2],[2,3],[0,1],[1,2,3],[0,1,2,3],[3,0],[3,0,1],[3,0],[3,0,1,2],[2,3,0],[2,3,0,1],[1,2,3,0],[0,1,2,3,0]],o=E(e).concat(E(t)),i=[],r=a[n];let d;for(d=0;d<r.length;d++)i.push(o[r[d]]);for(;d--;)i.push(o[r[d]+4]);return i}({top:m,right:s+a.width,bottom:m+a.height,left:s},{top:u,right:i+o.width,bottom:u+o.height,left:i}),h)}const t=e>.4?r((e-.4)/.6):0,n=e<.8?r(e/.8):1;y.setAttribute("offset",100*t+"%"),f.setAttribute("offset",100*n+"%"),e>=1&&S(),R=!1}),k)}function r(e){return 2*e-e*e}let d=window;const l=document,s=l.documentElement,c=l.body;let u=null,p=0,m=0;function b(e,t,n,a){return{x:e+n/2,y:t+a/2}}s.addEventListener("keydown",(function(e){o.enabled&&(m=Date.now())}),!1),s.addEventListener("blur",(function(e){o.enabled&&(S(),u=k()?e.target:null)}),!0),s.addEventListener("focus",(function(e){u&&k()&&i(u,e.target)}),!0);let g=null,h=null,y=null,f=null,v=null,L=null;function x(e,t){return e.querySelector("#focus-snail_"+t)}function S(){p&&(cancelAnimationFrame(p),p=0,g.classList.remove("focus-snail_visible"))}function k(){return Date.now()-m<42}function w(e,t){const n=e.ownerSVGElement.createSVGPoint();n.x=isNaN(t.x)?0:t.x,n.y=isNaN(t.y)?0:t.y,e.points.appendItem(n)}function E(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function C(e){const o=function(e){const t=e.getBoundingClientRect(),n=T(),a=s.clientTop||c.clientTop,o=s.clientLeft||c.clientLeft,i=t.top+n.top-a,r=t.left+n.left-o;return{top:i||0,left:r||0}}(e);return{left:o.left-t,top:o.top-t,width:Math.max(n,e.offsetWidth)+2*t,height:Math.max(a,e.offsetHeight)+2*t}}function T(){return{top:d.pageYOffset||s.scrollTop||0,left:d.pageXOffset||s.scrollLeft||0}}const R=l.createElement("style");return R.textContent="#focus-snail_svg {\tposition: absolute;\ttop: 0;\tright: 0;\tbottom: 0;\tleft: 0;\tmargin: 0;\tbackground: transparent;\tvisibility: hidden;\tpointer-events: none;\t-webkit-transform: translateZ(0);}#focus-snail_svg.focus-snail_visible {\tvisibility: visible;\tz-index: 999;}#focus-snail_polygon {\tstroke-width: 0;}",c.appendChild(R),o}();return{run:function(e){j(e)}}}();window.addEventListener("DOMContentLoaded",(e=>{null!==document.querySelector("#mdp-readabler-demo")&&document.querySelector("#mdp-readabler-demo").addEventListener("click",(()=>{MicroModal.show("mdp-readabler-popup-box",{openClass:"mdp-is-open",disableFocus:!1})}))})),S.run(window.mdpReadablerOptions)})();